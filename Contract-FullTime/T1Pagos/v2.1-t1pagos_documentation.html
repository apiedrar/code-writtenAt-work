<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Documentación de la API de T1pagos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css"
    />
    <style>
      :root {
        --title-color: #000000;
        --primary-color: #cc0000;
        --secondary-color: #4c4c4c;
        --background-color: #f8f9fa;
        --text-color: #4c4c4c;
        --border-color: #dee2e6;
        --code-background: #f5f5f5;
        --truecode-background: #000;
        --string-color: #00a113;
        --number-color: #4a8bb3;
        --boolean-color: #e64441;
        --success-color: #51af70;
        --danger-color: #db362b;
        --warning-color: #ff6900;
        --blue-link: #108295;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: "Manrope", sans-serif;
        line-height: 1.6;
        color: var(--text-color);
        background-color: var(--background-color);
        padding: 0;
        margin: 0;
        overflow-x: hidden; /* Prevent horizontal scrolling */
      }

      .container {
        width: 100%;
        max-width: 100%; /* Changed from 1200px to 100% */
        margin: 0 auto;
        padding: 0 20px;
      }

      header {
        background-color: white;
        padding: 20px 0;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        /*margin-bottom: 30px; Generó un espacio innecesario antes del navbar*/
      }

      header .container {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .logo {
        max-width: 200px;
        margin-bottom: 20px;
      }

      .doc-title {
        color: var(--title-color);
      }

      h1 {
        color: var(--primary-color);
        margin-bottom: 20px;
        text-align: center;
      }

      h2 {
        color: var(--primary-color);
        margin: 30px 0 15px;
        padding-bottom: 10px;
        border-bottom: 1px solid var(--border-color);
      }

      h3 {
        margin: 25px 0 15px;
        color: var(--secondary-color);
      }

      h4 {
        margin: 20px 0 10px;
      }

      p {
        margin-bottom: 15px;
      }

      ul,
      ol {
        margin: 15px 0;
        padding-left: 20px;
      }

      li {
        margin-bottom: 8px;
      }

      code {
        font-family: "Courier New", Courier, monospace;
        background-color: var(--code-background);
        padding: 2px 4px;
        border-radius: 3px;
        font-size: 0.9em;
        word-wrap: break-word; /* Allow code to wrap */
      }

      pre {
        background-color: var(--code-background);
        padding: 15px;
        border-radius: 5px;
        overflow-x: auto;
        margin: 15px 0;
        border: 1px solid var(--border-color);
        max-width: 100%; /* Ensure pre elements don't overflow */
        white-space: pre-wrap; /* Allow text to wrap */
      }

      pre code {
        background-color: transparent;
        padding: 0;
        word-wrap: break-word; /* Allow code to wrap */
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        display: block;
        overflow-x: auto; /* Make all tables scrollable horizontally */
      }

      th,
      td {
        padding: 12px 15px;
        text-align: left;
        border-bottom: 1px solid var(--border-color);
      }

      th {
        background-color: var(--primary-color);
        color: white;
      }

      tr:nth-child(even) {
        background-color: rgba(0, 0, 0, 0.02);
      }

      .method {
        display: inline-block;
        padding: 5px 10px;
        border-radius: 3px;
        color: white;
        font-weight: bold;
        margin-right: 10px;
      }

      .method-post {
        background-color: #ff6900;
      }

      .method-get {
        background-color: #51af70;
      }

      .method-put {
        background-color: #108395;
      }

      .method-delete {
        background-color: #db3b2b;
      }

      .endpoint {
        font-family: "Courier New", Courier, monospace;
        background-color: var(--code-background);
        padding: 10px;
        border-radius: 5px;
        margin: 10px 0;
        display: flex;
        align-items: center;
        flex-wrap: wrap; /* Allow endpoint to wrap */
      }

      .note {
        background-color: #f8f9fa;
        border-left: 4px solid #4c4c4c;
        padding: 15px;
        margin: 15px 0;
      }

      .warning {
        background-color: #fff3cd;
        border-left: 4px solid #db3b2b;
        padding: 15px;
        margin: 15px 0;
      }

      .error {
        background-color: #f8d7da;
        border-left: 4px solid #db3b2b;
        padding: 15px;
        margin: 15px 0;
      }

      .success {
        background-color: #f0f0f0;
        border-left: 4px solid #4c4c4c;
        padding: 15px;
        margin: 15px 0;
      }

      .tab-container {
        margin: 20px 0;
        max-width: 100%; /* Ensure tab container doesn't overflow */
      }

      .tab-buttons {
        display: flex;
        border-bottom: 1px solid var(--border-color);
        flex-wrap: wrap; /* Allow buttons to wrap */
      }

      .tab-button {
        padding: 10px 15px;
        background-color: transparent;
        border: none;
        cursor: pointer;
        font-weight: bold;
        color: var(--secondary-color);
      }

      .tab-button.active {
        color: var(--primary-color);
        border-bottom: 2px solid var(--primary-color);
      }

      .tab-content {
        padding: 20px 0;
        max-width: 100%; /* Ensure tab content doesn't overflow */
      }

      .tab-panel {
        display: none;
        max-width: 100%; /* Ensure tab panel doesn't overflow */
      }

      .tab-panel.active {
        display: block;
      }

      footer {
        background-color: white;
        padding: 30px 0;
        text-align: center;
        margin-top: 50px;
        border-top: 1px solid var(--border-color);
      }

      @media (max-width: 768px) {
        .container {
          padding: 0 15px;
        }

        table {
          display: block;
          overflow-x: auto;
        }
      }

      .nav {
        background-color: var(--primary-color);
        padding: 10px 0;
        width: 100%; /* Ensure nav spans full width */
      }

      .nav ul {
        list-style-type: none;
        display: flex;
        justify-content: center;
        padding: 0;
        margin: 0;
        flex-wrap: wrap; /* Allow nav items to wrap */
      }

      .nav li {
        margin: 0 15px;
      }

      .nav a {
        color: white;
        text-decoration: none;
        font-weight: bold;
      }

      .nav a:hover {
        text-decoration: underline;
      }

      .section-nav {
        position: sticky;
        top: 20px;
        max-height: calc(100vh - 40px);
        overflow-y: auto;
        padding-right: 15px;
      }

      .section-nav ul {
        list-style-type: none;
        padding-left: 0;
      }

      .section-nav li {
        margin-bottom: 5px;
      }

      .section-nav a {
        color: var(--secondary-color);
        text-decoration: none;
        display: block;
        padding: 5px 0;
        font-size: 0.9em;
      }

      .section-nav a:hover {
        color: var(--primary-color);
      }

      .section-nav .active {
        color: var(--primary-color);
        font-weight: bold;
      }

      .true-code {
        color: var(--truecode-color);
        background-color: var(--truecode-background);
        max-width: 100%; /* Ensure code blocks don't overflow */
        overflow-x: auto; /* Add horizontal scrolling for code blocks */
      }

      .two-columns {
        display: flex;
        gap: 30px;
        max-width: 100%; /* Ensure two-columns doesn't overflow */
      }

      .sidebar {
        width: 250px;
        flex-shrink: 0;
        position: sticky; /* Keep sidebar sticky */
        top: 20px; /* Position from top */
        align-self: flex-start; /* Align to top of container */
        max-height: calc(100vh - 40px); /* Limit height */
      }

      .main-content {
        flex-grow: 1;
        max-width: calc(100% - 280px); /* Account for sidebar width + gap */
        overflow-x: hidden; /* Prevent horizontal overflow */
      }

      /* Code block styling for language examples */
      pre.language-java,
      pre.language-go,
      pre.language-python {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        overflow-x: auto;
        white-space: pre-wrap; /* Allow text to wrap */
        word-break: break-word; /* Break words to prevent overflow */
      }

      @media (max-width: 992px) {
        .two-columns {
          flex-direction: column;
        }

        .sidebar {
          width: 100%;
          margin-bottom: 30px;
          position: relative; /* Remove sticky positioning on small screens */
          top: 0;
        }

        .main-content {
          max-width: 100%; /* Full width on small screens */
        }
      }

      /* Adjust header paragraphs to be responsive */
      header p {
        width: 100% !important; /* Override inline styles */
        max-width: 600px; /* Set a max-width instead */
        text-align: justify;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="container">
        <img
          src="https://www.t1pagos.com/assets/images/logos/Logo-T1-pagos.png"
          alt="T1pagos Logo"
          class="logo"
        />
        <h1 class="doc-title">Documentación de la API de T1pagos</h1>
        <p style="text-align: justify">
          La interfaz para programación de la aplicación (API) T1pagos está
          diseñada para integrar fácilmente la funcionalidad de pagos en
          cualquier sitio web. Está basada en arquitectura REST que utiliza el
          protocolo HTTP para proveer una interfaz uniforme, agnóstica a
          lenguajes de programación, orientado a recursos y con códigos de
          respuesta estandarizados.
        </p>
        <p style="text-align: justify">
          Todas las respuestas del API están en formato JSON y utiliza los
          códigos de respuesta del protocolo HTTP en los encabezados.
        </p>
        <p style="text-align: justify">
          El sistema utiliza dos ambientes: uno de sandbox y otro de producción,
          cada uno con diferentes llaves de acceso para evitar que peticiones
          destinadas a un ambiente se procesen en otro.
        </p>
        <a
          href="https://t1pagos.com/"
          target="_blank"
          rel="noopenernoreferrer"
          style="color: var(--blue-link); text-decoration: none;"
          >Más información</a
        >
      </div>
    </header>

    <div class="nav">
      <ul>
        <li><a href="#autenticacion">Autenticación</a></li>
        <li><a href="#cargos">Cargos</a></li>
        <li><a href="#tarjetas">Gestionar Clientes y Tarjetas</a></li>
        <li><a href="#integracion">Ejemplos de Integración</a></li>
        <li><a href="#webhooks">Webhooks</a></li>
        <li><a href="#errores">Respuestas y Errores</a></li>
        <li style="display: none;"><a href="#suscripciones">Suscripciones</a></li>
        <li style="display: none;"><a href="#recargas">Recargas Telcel</a></li>
      </ul>
    </div>

    <div class="container">
      <div class="two-columns">
        <aside class="sidebar">
          <nav class="section-nav">
            <ul>
              <li><a href="#autenticacion" style="font-weight: 900;">Autenticación</a></li>
              <li>
                <a href="#cargos" style="font-weight: 900;">Cargos con Tarjeta</a>
                <ul>
                  <li><a href="#cargo-objetivo">Objetivo</a></li>
                  <li><a href="#cargo-proceso">Proceso</a></li>
                  <li><a href="#cargo-tokenizacion">Tokenización</a></li>
                  <li><a href="#cargo-crear">Crear un Cargo</a></li>
                </ul>
              </li>
              <li>
                <a href="#tarjetas" style="font-weight: 900;">Gestionar Clientes y Tarjetas</a>
                <ul>
                  <li><a href="#tarjetas-cliente">Crear Cliente</a></li>
                  <li><a href="#tarjetas-guardar">Guardar Tarjeta</a></li>
                  <li><a href="#tarjetas-listar">Listar Tarjetas de un Cliente</a></li>
                </ul>
              </li>
              <li style="display: none;">
                <a href="#suscripciones">Suscripciones</a>
                <ul>
                  <li style="display: none;"><a href="#suscripciones-plan">Crear Plan</a></li>
                  <li style="display: none;"><a href="#suscripciones-crear">Crear Suscripción</a></li>
                </ul>
              </li>
              <li style="display: none;">
                <a href="#recargas">Recargas Telcel</a>
                <ul>
                  <li style="display: none;"><a href="#recargas-paquete">Recargas de Paquete</a></li>
                  <li style="display: none;">
                    <a href="#recargas-tiempo">Recargas de Tiempo Aire</a>
                  </li>
                </ul>
              </li>
              <li>
                <a href="#ejemplos-integracion" style="font-weight: 900;">Ejemplos de Integración</a>
              </li>
              <li>
                <a href="#webhooks" style="font-weight: 900;">Webhooks</a>
                <ul>
                  <li><a href="#webhooks-eventos">Eventos Disponibles</a></li>
                  <li><a href="#webhooks-seguridad">Seguridad en Recepción de Eventos</a></li>
                </ul>
              </li>
              <li>
                <a href="#errores" style="font-weight: 900;">Respuestas y Errores</a>
                <ul>
                  <li><a href="#errores-http">Códigos de Error HTTP</a></li>
                  <li><a href="#errores-formato">Formato de Respuestas</a></li>
                </ul>
              </li>
            </ul>
          </nav>
        </aside>

        <main class="main-content">
          <section id="autenticacion">
            <h2>Autenticación</h2>
            <p>
              Para autenticarte con la API de T1pagos, debes utilizar una API
              Key. Esta clave debe incluirse en el encabezado de todas las
              solicitudes HTTP que realices a la API.
            </p>

            <div class="note">
              <strong>Nota:</strong> En la nueva versión de la plataforma
              T1pagos, se ha migrado del sistema de Bearer Token a API Key para
              simplificar la autenticación.
            </div>

            <h3>Encabezados de Autenticación</h3>
            <p>Incluye tu API Key en el encabezado de cada solicitud:</p>

            <pre><code>X-API-Key: tu_api_key_aqui</code></pre>

            <h3>Ambientes</h3>
            <p>
              T1pagos proporciona dos ambientes para el desarrollo e
              implementación de tu integración:
            </p>

            <table>
              <tr>
                <th>Ambiente</th>
                <th>URL Base</th>
                <th>Descripción</th>
              </tr>
              <tr>
                <td>Sandbox</td>
                <td>
                  <code
                    style="color: var(--blue-link);"
                    >https://api.sandbox.t1pagos.com/v2</code
                  >
                </td>
                <td>
                  Ambiente de pruebas para desarrollo e integración. Utiliza
                  tarjetas de prueba y no realiza cargos reales.
                </td>
              </tr>
              <tr>
                <td>Producción</td>
                <td>
                  <code
                    style="color: var(--blue-link);"
                    >https://api.t1pagos.com/v2</code
                  >
                </td>
                <td>Ambiente de producción para transacciones reales.</td>
              </tr>
            </table>

            <div class="warning">
              <strong>Importante:</strong> Nunca compartas tu API Key de
              producción. Mantenla segura y no la incluyas en código del lado
              del cliente.
            </div>
          </section>

          <section id="cargos">
            <h2>Cargos con Tarjeta</h2>

            <div id="cargo-objetivo">
              <h3>Objetivo</h3>
              <p>
                Aceptar pagos con tarjeta con T1pagos es un proceso de 3 pasos
                con acciones del lado del cliente (front-end) y del servidor
                (back-end):
              </p>
              <ol>
                <li>
                  <strong>Device fingerprint</strong> - En tu sitio web, que
                  está siendo ejecutado en el navegador del cliente, se inserta
                  un archivo de javascript que envía a la herramienta de
                  prevención de fraude la información del dispositivo del
                  cliente y este le regresa al navegador un identificador único
                  del dispositivo llamado device_fingerprint.
                </li>
                <li>
                  <strong>Tokenización</strong> - Cuando tu cliente da clic en
                  Pagar, tu sitio deberá enviar a T1pagos la información de la
                  tarjeta de tu cliente y este le regresará un token único de la
                  tarjeta. Después tu sitio deberá enviar a tu servidor el
                  token, device_fingerprint y todos los datos del pedido.
                </li>
                <li>
                  <strong>Cargo</strong> - Tu servidor deberá hacer un request
                  al API de T1pagos para crear un cargo y complementar el pago.
                </li>
              </ol>
              <p>
                La tokenización asegura que la información sensible de la
                tarjeta nunca toque tu servidor, lo que te permite minimizar el
                alcance de una certificación PCI Compliance.
              </p>
            </div>

            <div id="cargo-proceso">
              <h3>Proceso de Cargo a Tarjeta</h3>
              <img
                src="https://docs.t1pagos.com/img/guia/Diagrama_guia.png"
                alt="Diagrama de proceso de cargo"
                style="max-width: 100%; height: auto; margin: 20px 0"
              />

              <ol>
                <li>
                  Front end Comercio, a través de un Javascript, envía datos del
                  navegador a Herramienta de Prevención de Fraude (opcional)
                </li>
                <li>
                  Herramienta de Prevención de Fraude envía Device fingerprint
                  generado
                </li>
                <li>Front end Comercio envía datos de tarjeta a T1pagos</li>
                <li>T1pagos regresa un token</li>
                <li>
                  Front end Comercio envía datos de pedido a Back end comercio
                </li>
                <li>
                  Back end de Comercio solicita creación de cargo enviando datos
                  del pedido a T1pagos
                </li>
                <li>
                  T1pagos evalúa y procesa la transacción al switch
                  correspondiente y envía respuesta final a Back end Comercio
                </li>
              </ol>
            </div>

            <div id="cargo-tokenizacion">
              <h3>Tokenización</h3>
              <p>
                El envío de datos de la tarjeta se realizará haciendo una
                petición al método <code>POST /tarjeta</code>.
              </p>

              <div class="endpoint">
                <span class="method method-post">POST</span>
                <span>/v2/tarjeta</span>
              </div>

              <h4>Request:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "nombre":</span> <span style="color: var(--string-color);">"NOMBRE DEL TITULAR"</span><span style="color: white;">,
  "pan":</span> <span style="color: var(--string-color);">"4242424242424242"</span><span style="color: white;">,
  "expiracion_mes":</span> <span style="color: var(--string-color);">"03"</span><span style="color: white;">,
  "expiracion_anio":</span> <span style="color: var(--string-color);">"27"</span><span style="color: white;">,
  "cvv2":</span> <span style="color: var(--string-color);">"123"</span><span style="color: white;">,
  "default":</span> <span style="color: var(--boolean-color);">true</span>
  <span style="color: white;">}</span></code></pre>

              <h4>Response:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "status":</span> <span style="color: var(--string-color);">"success"</span><span style="color: white;">,
  "data": {
    "tarjeta": {
      "cliente_id":</span> <span style="color: var(--string-color);">"ba3e968d-95d0-4a4d-928b-808a58ffbb55"</span><span style="color: white;">,
      "default":</span> <span style="color: var(--boolean-color);">true</span><span style="color: white;">,
      "nombre":</span> <span style="color: var(--string-color);">"NOMBRE DEL TITULAR"</span><span style="color: white;">,
      "iin"</span>: <span style="color: var(--string-color);">"424242"</span><span style="color: white;">,
      "terminacion":</span> <span style="color: var(--string-color);">"4242"</span><span style="color: white;">,
      "pan":</span> <span style="color: var(--string-color);">"424242******4242"</span><span style="color: white;">,
      "marca":</span> <span style="color: var(--string-color);">"visa"</span><span style="color: white;">,
      "expiracion_mes":</span> <span style="color: var(--string-color);">"03"</span><span style="color: white;">,
      "expiracion_anio":</span> <span style="color: var(--string-color);">"27"</span><span style="color: white;">,
      "token":</span> <span style="color: var(--string-color);">"5c4a7103-d35f-4136-98be-6210d57b0ca3"</span><span style="color: white;">,
      "actualizacion":</span> <span style="color: var(--string-color);">"2025-03-25T15:52:11-05:00"</span><span style="color: white;">,
      "creacion":</span> <span style="color: var(--string-color);">"2025-03-25T15:52:11-05:00"</span>
      <span style="color: white;">}
  },
  "http_code":</span> <span style="color: var(--number-color);">200</span><span style="color: white;">,
  "datetime":</span> <span style="color: var(--string-color);">"2025-03-25T15:52:11-05:00"</span><span style="color: white;">,
  "timestamp":</span> <span style="color: var(--number-color);">1711400531</span>
  <span style="color: white;">}</span></code></pre>
            </div>

            <div id="cargo-crear">
              <h3>Crear un Cargo</h3>
              <p>
                Para generar un cargo, tu servidor debe hacer una petición al
                API de T1pagos usando el método <code>POST /cargo</code>.
              </p>

              <div class="endpoint">
                <span class="method method-post">POST</span>
                <span>/v2/cargo</span>
              </div>

              <h4>Request:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "monto":</span> <span style="color: var(--number-color);">"10"</span><span style="color: white;">,
  "descripcion":</span> <span style="color: var(--string-color);">"Cargo de prueba"</span><span style="color: white;">,
  "pedido": {
    "device_fingerprint":</span> <span style="color: var(--string-color);">"5834125431628311477"</span>
    <span style="color: white;">},
  "metodo_pago":</span> <span style="color: var(--string-color);">"tarjeta"</span><span style="color: white;">,
  "tarjeta": {
    "token":</span> <span style="color: var(--string-color);">"5c4a7103-d35f-4136-98be-6210d57b0ca3"</span>
    <span style="color: white;">}
}</span></code></pre>

              <h4>Response:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "status":</span> <span style="color: var(--string-color);">"success"</span><span style="color: white;">,
  "data": {
    "cargo": {
      "id":</span> <span style="color: var(--string-color);">"ce6fa69d-a2ab-471a-b2a9-9ed18f3241b7"</span><span style="color: white;">,
      "monto":</span> <span style="color: var(--string-color);">"200.0000"</span><span style="color: white;">,
      "tipo":</span> <span style="color: var(--string-color);">"cargo"</span><span style="color: white;">,
      "orden_id":</span> <span style="color: var(--number-color);">0</span><span style="color: white;">,
      "cliente_id":</span> <span style="color: var(--string-color);">"ba3e968d-95d0-4a4d-928b-808a58ffbb55"</span><span style="color: white;">,
      "estatus":</span> <span style="color: var(--string-color);">"completada"</span><span style="color: white;">,
      "codigo":</span> <span style="color: var(--string-color);">"approved"</span><span style="color: white;">,
      "descripcion":</span> <span style="color: var(--string-color);">"La transacción ha sido aprobada"</span><span style="color: white;">,
      "prueba":</span> <span style="color: var(--boolean-color);">true</span><span style="color: white;">,
      "tarjeta": {
        "creacion":</span> <span style="color: var(--string-color);">"2025-03-25T15:56:45-05:00"</span><span style="color: white;">,
        "nombre":</span> <span style="color: var(--string-color);">"NOMBRE DE CLIENTE"</span><span style="color: white;">,
        "expiracion_mes":</span> <span style="color: var(--string-color);">"03"</span><span style="color: white;">
        "expiracion_anio":</span> <span style="color: var(--string-color);">"27"</span><span style="color: white;">
        "token":</span> <span style="color: var(--string-color);">"5c4a7103-d35f-4136-98be-6210d57b0ca3"</span><span style="color: white;">,
        "iin":</span> <span style="color: var(--string-color);">"424242"</span><span style="color: white;">
        "marca":</span> <span style="color: var(--string-color);">"visa"</span><span style="color: white;">,
        "terminacion":</span> <span style="color: var(--string-color);">"4242"</span>
        <span style="color: white;">}
    }
  },
  "http_code":</span> <span style="color: var(--number-color);">200</span><span style="color: white;">,
  "datetime":</span> <span style="color: var(--string-color);">"2025-03-25T15:56:45-05:00"</span><span style="color: white;">,
  "timestamp":</span> <span style="color: var(--number-color);">1711400805</span>
  <span style="color: white;">}</span></code></pre>

              <h4>Campos Requeridos</h4>
              <table>
                <tr>
                  <th>Campo</th>
                  <th>Descripción</th>
                </tr>
                <tr>
                  <td><code>monto</code></td>
                  <td>
                    Monto a cobrar. Debe ser un número entre 1 y
                    999999999999999.
                  </td>
                </tr>
                <tr>
                  <td><code>descripcion</code></td>
                  <td>Descripción breve del cargo.</td>
                </tr>
                <tr>
                  <td><code>metodo_pago</code></td>
                  <td>Método de pago, debe ser 'tarjeta'.</td>
                </tr>
                <tr>
                  <td><code>tarjeta.token</code></td>
                  <td>
                    Token de la tarjeta obtenido en el proceso de tokenización.
                  </td>
                </tr>
                <tr>
                  <td><code>pedido.device_fingerprint</code></td>
                  <td>
                    Identificador único del dispositivo generado por la
                    herramienta de prevención de fraude.
                  </td>
                </tr>
              </table>

              <h4>Campos Opcionales</h4>
              <table>
                <tr>
                  <th>Campo</th>
                  <th>Descripción</th>
                </tr>
                <tr>
                  <td><code>orden_id</code></td>
                  <td>ID de la orden en tu sistema.</td>
                </tr>
                <tr>
                  <td><code>pedido.id_externo</code></td>
                  <td>ID externo del pedido.</td>
                </tr>
                <tr>
                  <td><code>pedido.total_articulos</code></td>
                  <td>Número total de artículos en el pedido.</td>
                </tr>
                <tr>
                  <td><code>pedido.monto_articulos</code></td>
                  <td>Monto total de los artículos.</td>
                </tr>
                <tr>
                  <td><code>pedido.total_monto</code></td>
                  <td>Monto total del pedido.</td>
                </tr>
                <tr>
                  <td><code>pedido.creacion</code></td>
                  <td>Fecha de creación del pedido.</td>
                </tr>
                <tr>
                  <td><code>pedido.articulos</code></td>
                  <td>Array de artículos en el pedido.</td>
                </tr>
                <tr>
                  <td><code>cliente</code></td>
                  <td>Información del cliente.</td>
                </tr>
                <tr>
                  <td><code>PlanPagos</code></td>
                  <td>Detalles sobre el plan de pagos.</td>
                </tr>
              </table>
            </div>
          </section>

          <section id="tarjetas">
            <h2>Gestionar Clientes y Tarjetas</h2>
            <p>
              T1pagos permite guardar tarjetas para futuros cargos, lo que
              mejora la experiencia del usuario al no tener que ingresar los
              datos de su tarjeta en cada compra.
            </p>

            <div id="tarjetas-cliente">
              <h3>Crear Cliente</h3>
              <p>
                Antes de guardar una tarjeta, es necesario crear un cliente en
                el sistema.
              </p>

              <div class="endpoint">
                <span class="method method-post">POST</span>
                <span>/v2/cliente</span>
              </div>

              <h4>Request:</h4>
              <pre class="true-code"><code><span style="color: white">{
  "nombre":</span> <span style="color: var(--string-color);">"Juan"</span><span style="color: white;">,
  "apellido_paterno":</span> <span style="color: var(--string-color);">"Pérez"</span><span style="color: white;">,
  "apellido_materno":</span> <span style="color: var(--string-color);">"García"</span><span style="color: white;">,
  "email":</span> <span style="color: var(--string-color);">"juan.perez@ejemplo.com"</span><span style="color: white;">,
  "telefono": {
    "tipo":</span> <span style="color: var(--string-color);">"celular"</span><span style="color: white;">,
    "codigo_pais":</span> <span style="color: var(--string-color);">"+52"</span><span style="color: white;">,
    "codigo_area":</span> <span style="color: var(--string-color);">"55"</span><span style="color: white;">,
    "numero":</span> <span style="color: var(--string-color)";>"12345678"</span><span style="color: white;">
  }
}</span></code></pre>

              <h4>Response:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "status":</span> <span style="color: var(--string-color);">"success"</span><span style="color: white;">,
  "data": {
    "cliente": {
      "id":</span> <span style="color: var(--string-color);">"ba3e968d-95d0-4a4d-928b-808a58ffbb55"</span><span style="color: white;">,
      "nombre":</span> <span style="color: var(--string-color);">"Juan"</span><span style="color: white;">,
      "apellido_paterno":</span> <span style="color: var(--string-color);">"Pérez"</span><span style="color: white;">,
      "apellido_materno":</span> <span style="color: var(--string-color);">"García"</span><span style="color: white;">,
      "email":</span> <span style="color: var(--string-color);">"juan.perez@ejemplo.com"</span><span style="color: white;">,
      "estado":</span> <span style="color: var(--string-color);">"activo"</span><span style="color: white;">,
      "telefono": {
        "tipo":</span> <span style="color: var(--string-color);">"celular"</span><span style="color: white;">,
        "codigo_pais":</span> <span style="color: var(--string-color);">"+52"</span><span style="color: white;">,
        "codigo_area":</span> <span style="color: var(--string-color);">"55"</span><span style="color: white;">,
        "numero":</span> <span style="color: var(--string-color);">"12345678"</span>
      <span style="color: white;">},
      "creacion":</span> <span style="color: var(--string-color);">"2025-03-25T16:00:10-05:00"</span><span style="color: white;">,
      "actualizacion":</span> <span style="color: var(--string-color);">"2025-03-25T16:00:10-05:00"</span>
    <span style="color: white;">}
  },
  "http_code":</span> <span style="color: var(--number-color);">200</span><span style="color: white;">,
  "datetime":</span> <span style="color: var(--string-color);">"2025-03-25T16:00:10-05:00"</span><span style="color: white;">,
  "timestamp":</span> <span style="color: var(--number-color);">1711401010</span>
<span style="color: white;">}</span></code></pre>
            </div>

            <div id="tarjetas-guardar">
              <h3>Guardar Tarjeta de Cliente</h3>
              <p>
                Una vez que tienes un cliente creado, puedes guardar sus
                tarjetas para futuros cargos.
              </p>

              <div class="endpoint">
                <span class="method method-post">POST</span>
                <span
                  >/v2/cliente/<span style="color: var(--blue-link)"
                    >{cliente_id}</span
                  >/tarjeta</span
                >
              </div>

              <h4>Request:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "token":</span> <span style="color: var(--string-color);">"5c4a7103-d35f-4136-98be-6210d57b0ca3"</span><span style="color: white;">,
  "default":</span> <span style="color: var(--boolean-color);">true</span>
<span style="color: white;">}</span></code></pre>

              <h4>Response:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "status":</span> <span style="color: var(--string-color);">"success"</span><span style="color: white;">,
  "data":</span> <span style="color: white;">{
    "tarjeta": {
      "cliente_id":</span> <span style="color: var(--string-color);">"ba3e968d-95d0-4a4d-928b-808a58ffbb55"</span><span style="color: white;">,
      "default":</span> <span style="color: var(--boolean-color);">true</span><span style="color: white;">,
      "nombre":</span> <span style="color: var(--string-color);">"NOMBRE DEL TITULAR"</span><span style="color: white;">,
      "iin":</span> <span style="color: var(--string-color);">"424242"</span><span style="color: white;">,
      "terminacion":</span> <span style="color: var(--string-color);">"4242"</span><span style="color: white;">,
      "pan":</span> <span style="color: var(--string-color);">"424242******4242"</span><span style="color: white;">,
      "marca":</span> <span style="color: var(--string-color);">"visa"</span><span style="color: white;">,
      "expiracion_mes":</span> <span style="color: var(--string-color);">"03"</span><span style="color: white;">,
      "expiracion_anio":</span> <span style="color: var(--string-color);">"27"</span><span style="color: white;">,
      "token":</span> <span style="color: var(--string-color);">"5c4a7103-d35f-4136-98be-6210d57b0ca3"</span><span style="color: white;">,
      "actualizacion":</span> <span style="color: var(--string-color);">"2025-03-25T16:02:30-05:00"</span><span style="color: white;">,
      "creacion":</span> <span style="color: var(--string-color);">"2025-03-25T16:02:30-05:00"</span>
    <span style="color: white;">}
  },
  "http_code":</span> <span style="color: var(--number-color);">200</span><span style="color: white;">,
  "datetime":</span> <span style="color: var(--string-color);">"2025-03-25T16:02:30-05:00"</span><span style="color: white;">,
  "timestamp":</span> <span style="color: var(--number-color);">1711401150</span>
<span style="color: white;">}</span></code></pre>

              <h4 id="tarjetas-listar">Listar Tarjetas de un Cliente</h4>
              <p>Puedes obtener todas las tarjetas guardadas de un cliente.</p>

              <div class="endpoint">
                <span class="method method-get">GET</span>
                <span
                  >/v2/cliente/<span style="color: var(--blue-link)"
                    >{cliente_id}</span
                  >/tarjeta</span
                >
              </div>

              <h4>Response:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "status":</span> <span style="color: var(--string-color);">"success"</span><span style="color: white;">,
  "data": {
    "tarjetas": [
      {
        "cliente_id":</span> <span style="color: var(--string-color);">"ba3e968d-95d0-4a4d-928b-808a58ffbb55"</span><span style="color: white;">,
        "default":</span> <span style="color: var(--boolean-color);">true</span><span style="color: white;">,
        "nombre":</span> <span style="color: var(--string-color);">"NOMBRE DE TITULAR"</span><span style="color: white;">,
        "iin":</span> <span style="color: var(--string-color);">"424242"</span><span style="color: white;">,
        "terminacion":</span> <span style="color: var(--string-color);">"4242"</span><span style="color: white;">,
        "pan":</span> <span style="color: var(--string-color);">"424242******4242"</span><span style="color: white;">,
        "marca":</span> <span style="color: var(--string-color);">"visa"</span><span style="color: white;">,
        "expiracion_mes":</span> <span style="color: var(--string-color);">"03"</span><span style="color: white;">,
        "expiracion_anio":</span> <span style="color: var(--string-color);">"27"</span><span style="color: white;">,
        "token":</span> <span style="color: var(--string-color);">"5c4a7103-d35f-4136-98be-6210d57b0ca3"</span><span style="color: white;">,
        "actualizacion":</span> <span style="color: var(--string-color);">"2025-03-25T16:02:30-05:00"</span><span style="color: white;">,
        "creacion":</span> <span style="color: var(--string-color);">"2025-03-25T16:02:30-05:00"</span>
      <span style="color: white;">}
    ]
  },
  "http_code":</span> <span style="color: var(--number-color);">200</span><span style="color: white;">,
  "datetime":</span> <span style="color: var(--string-color);">"2025-03-25T16:03:45-05:00"</span><span style="color: white;">,
  "timestamp":</span> <span style="color: var(--number-color);">1711401225</span>
<span style="color: white;">}</span></code></pre>
            </div>
          </section>

          <section id="suscripciones" style="display: none;">
            <h2>Suscripciones</h2>
            <p>
              Una suscripción sirve para cobrar un servicio a un cliente de
              manera periódica. T1pagos te permite crear planes de suscripción
              con diferentes frecuencias y configurar periodos de prueba.
            </p>

            <div id="suscripciones-plan">
              <h3>Crear Plan</h3>
              <p>
                Un plan es una plantilla para una suscripción que contiene el
                costo, frecuencia de cobro, número de días de prueba, etc.
              </p>

              <div class="endpoint">
                <span class="method method-post">POST</span>
                <span>/v2/plan</span>
              </div>

              <h4>Request:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "nombre":</span> <span style="color: var(--string-color);">"Plan Bimestral"</span><span style="color: white;">,
  "id_externo":</span> <span style="color: var(--string-color);">"plan_bimestral"</span><span style="color: white;">,
  "monto":</span> <span style="color: var(--number-color);">100.00</span><span style="color: white;">,
  "moneda":</span> <span style="color: var(--string-color);">"MXN"</span><span style="color: white;">,
  "frecuencia":</span> <span style="color: var(--number-color);">2</span><span style="color: white;">,
  "tipo_periodo":</span> <span style="color: var(--string-color);">"mes"</span><span style="color: white;">,
  "max_reintentos":</span> <span style="color: var(--number-color);">3</span><span style="color: white;">,
  "prueba_frecuencia":</span> <span style="color: var(--number-color);">1</span><span style="color: white;">,
  "prueba_tipo_periodo":</span> <span style="color: var(--string-color);">"mes"</span>
<span style="color: white;">}</span></code></pre>

              <h4>Response:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "status":</span> <span style="color: var(--string-color);">"success"</span><span style="color: white;">,
  "data": {
    "plan": {
      "nombre":</span> <span style="color: var(--string-color);">"Plan Bimestral"</span><span style="color: white;">,
      "monto":</span> <span style="color: var(--number-color);">100.00</span><span style="color: white;">,
      "frecuencia":</span> <span style="color: var(--number-color);">2</span><span style="color: white;">,
      "tipo_periodo":</span> <span style="color: var(--string-color);">"mes"</span><span style="color: white;">,
      "max_reintentos":</span> <span style="color: var(--number-color);">3</span><span style="color: white;">,
      "prueba_frecuencia":</span> <span style="color: var(--number-color);">1</span><span style="color: white;">,
      "prueba_tipo_periodo":</span> <span style="color: var(--string-color);">"mes"</span><span style="color: white;">,
      "id":</span> <span style="color: var(--string-color);">"2ee19ca0-b706-4aa4-a4c7-33c5114ea47b"</span><span style="color: white;">,
      "id_externo":</span> <span style="color: var(--string-color);">"plan_bimestral"</span><span style="color: white;">,
      "estado":</span> <span style="color: var(--string-color);">"activo"</span><span style="color: white;">,
      "puede_suscribir":</span> <span style="color: var(--boolean-color);">true</span><span style="color: white;">,
      "moneda":</span> <span style="color: var(--string-color);">"MXN"</span><span style="color: white;">,
      "actualizacion":</span> <span style="color: var(--string-color);">"2025-03-25T16:10:10-05:00"</span><span style="color: white;">,
      "creacion":</span> <span style="color: var(--string-color);">"2025-03-25T16:10:10-05:00"</span>
    <span style="color: white;">}
  },
  "http_code":</span> <span style="color: var(--number-color);">200</span><span style="color: white;">,
  "datetime":</span> <span style="color: var(--string-color);">"2025-03-25T16:10:10-05:00"</span><span style="color: white;">,
  "timestamp":</span> <span style="color: var(--number-color);">1711401610</span>
<span style="color: white;">}</span></code></pre>

              <h4>Parámetros del Plan</h4>
              <table>
                <tr>
                  <th>Campo</th>
                  <th>Descripción</th>
                </tr>
                <tr>
                  <td><code>nombre</code></td>
                  <td>Nombre del plan.</td>
                </tr>
                <tr>
                  <td><code>id_externo</code></td>
                  <td>Identificador externo del plan en tu sistema.</td>
                </tr>
                <tr>
                  <td><code>monto</code></td>
                  <td>Monto a cobrar en cada renovación.</td>
                </tr>
                <tr>
                  <td><code>moneda</code></td>
                  <td>Moneda del monto (MXN, USD, etc.).</td>
                </tr>
                <tr>
                  <td><code>frecuencia</code></td>
                  <td>Valor numérico de cada cuando se realizará el cobro.</td>
                </tr>
                <tr>
                  <td><code>tipo_periodo</code></td>
                  <td>
                    Unidad de tiempo para la frecuencia: dia, semana, mes o año.
                  </td>
                </tr>
                <tr>
                  <td><code>max_reintentos</code></td>
                  <td>
                    Número máximo de reintentos en caso de fallo en el cobro.
                  </td>
                </tr>
                <tr>
                  <td><code>prueba_frecuencia</code></td>
                  <td>Valor numérico de cuanto dura el periodo de prueba.</td>
                </tr>
                <tr>
                  <td><code>prueba_tipo_periodo</code></td>
                  <td>
                    Unidad de tiempo para el periodo de prueba: dia, semana, mes
                    o año.
                  </td>
                </tr>
              </table>
            </div>

            <div id="suscripciones-crear">
              <h3>Crear Suscripción</h3>
              <p>
                Una vez que tienes un plan creado y un cliente con una tarjeta
                guardada, puedes crear una suscripción.
              </p>

              <div class="endpoint">
                <span class="method method-post">POST</span>
                <span>/v2/suscripcion</span>
              </div>

              <h4>Request:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "plan_id":</span> <span style="color: var(--string-color);">"2ee19ca0-b706-4aa4-a4c7-33c5114ea47b"</span><span style="color: white;">,
  "cliente_id":</span> <span style="color: var(--string-color);">"ba3e968d-95d0-4a4d-928b-808a58ffbb55"</span><span style="color: white;">,
  "metodo_pago":</span> <span style="color: var(--string-color);">"tarjeta"</span><span style="color: white;">,
  "metodo_pago_token":</span> <span style="color: var(--string-color);">"5c4a7103-d35f-4136-98be-6210d57b0ca3"</span>
<span style="color: white;">}</span></code></pre>

              <h4>Response:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "status":</span> <span style="color: var(--string-color);">"success"</span><span style="color: white;">,
  "data": {
    "suscripcion": {
      "metodo_pago":</span> <span style="color: var(--string-color);">"tarjeta"</span><span style="color: white;">,
      "id":</span> <span style="color: var(--string-color);">"7266f76d-3f52-4c8a-98e7-6799ba089dc7"</span><span style="color: white;">,
      "plan_id":</span> <span style="color: var(--string-color);">"2ee19ca0-b706-4aa4-a4c7-33c5114ea47b"</span><span style="color: white;">,
      "cliente_id":</span> <span style="color: var(--string-color);">"ba3e968d-95d0-4a4d-928b-808a58ffbb55"</span><span style="color: white;">,
      "metodo_pago_token":</span> <span style="color: var(--string-color);">"5c4a7103-d35f-4136-98be-6210d57b0ca3"</span><span style="color: white;">,
      "inicio":</span> <span style="color: var(--string-color);">"2025-03-25T16:15:46-05:00"</span><span style="color: white;">,
      "prueba_inicio":</span> <span style="color: var(--string-color);">"2025-03-25T16:15:46-05:00"</span><span style="color: white;">,
      "prueba_fin":</span> <span style="color: var(--string-color);">"2025-04-25T16:15:46-05:00"</span><span style="color: white;">,
      "periodo_fecha_inicio":</span> <span style="color: var(--string-color);">"2025-04-26T16:15:46-05:00"</span><span style="color: white;">,
      "periodo_fecha_fin":</span> <span style="color: var(--string-color);">"2025-06-26T16:15:46-05:00"</span><span style="color: white;">,
      "estado":</span> <span style="color: var(--string-color);">"prueba"</span><span style="color: white;">,
      "fecha_proximo_cargo":</span> <span style="color: var(--string-color);">"2025-04-26T16:15:46-05:00"</span><span style="color: white;">,
      "actualizacion":</span> <span style="color: var(--string-color);">"2025-03-25T16:15:46-05:00"</span><span style="color: white;">,
      "creacion":</span> <span style="color: var(--string-color);">"2025-03-25T16:15:46-05:00"</span>
    <span style="color: white;">}
  },
  "http_code":</span> <span style="color: var(--number-color);">200</span><span style="color: white;">,
  "datetime":</span> <span style="color: var(--string-color);">"2025-03-25T16:15:46-05:00"</span><span style="color: white;">,
  "timestamp":</span> <span style="color: var(--number-color);">1711401946</span>
<span style="color: white;">}</span></code></pre>

              <div class="note">
                <p>
                  Si el plan incluye días de prueba, se realizará un cargo por
                  un monto menor (actualmente definido en un peso) y en caso de
                  que el cargo sea exitoso, será cancelado y se generará la
                  suscripción.
                </p>
                <p>
                  Si el plan no incluye días de prueba, se procederá a realizar
                  el cargo del primer periodo de la suscripción, en caso de no
                  ser aprobado, no se generará la suscripción.
                </p>
              </div>
            </div>
          </section>

          <section id="recargas" style="display: none;">
            <h2>Recargas Telcel</h2>
            <p>
              T1pagos te permite ofrecer recargas para teléfonos Telcel. Hay dos
              tipos de recargas disponibles: recargas de paquete y recargas de
              tiempo aire.
            </p>

            <div id="recargas-paquete">
              <h3>Recargas de Paquete</h3>
              <p>
                Las recargas de paquete permiten a los usuarios adquirir
                paquetes predefinidos de datos, minutos y mensajes.
              </p>

              <div class="endpoint">
                <span class="method method-post">POST</span>
                <span>/v2/recarga</span>
              </div>

              <h4>Request:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "monto":</span> <span style="color: var(--number-color);">100</span><span style="color: white;">,
  "telefono": {
    "tipo":</span> <span style="color: var(--string-color);">"celular"</span><span style="color: white;">,
    "codigo_pais":</span> <span style="color: var(--string-color);">"+52"</span><span style="color: white;">,
    "codigo_area":</span> <span style="color: var(--string-color);">"55"</span><span style="color: white;">,
    "numero":</span> <span style="color: var(--string-color);">"5555688722"</span>
  <span style="color: white;">},
  "metodo_pago":</span> <span style="color: var(--string-color);">"tarjeta"</span><span style="color: white;">,
  "metodo_pago_token":</span> <span style="color: var(--string-color);">"5c4a7103-d35f-4136-98be-6210d57b0ca3"</span><span style="color: white;">,
  "tipo":</span> <span style="color: var(--string-color);">"paquete"</span><span style="color: white;">,
  "id_externo":</span> <span style="color: var(--string-color);">"98310938"</span>
<span style="color: white;">}</span></code></pre>

              <h4>Response:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "status":</span> <span style="color: var(--string-color);">"success"</span><span style="color: white;">,
  "data": {
    "recarga": {
      "id":</span> <span style="color: var(--string-color);">"c10148c1-6072-45b5-bb0c-a924e7b990b6"</span><span style="color: white;">,
      "monto":</span> <span style="color: var(--number-color);">100.00</span><span style="color: white;">,
      "tipo":</span> <span style="color: var(--string-color);">"paquete"</span><span style="color: white;">,
      "estado":</span> <span style="color: var(--string-color);">"aprobada"</span><span style="color: white;">,
      "metodo_pago":</span> <span style="color: var(--string-color);">"tarjeta"</span><span style="color: white;">,
      "metodo_pago_token":</span> <span style="color: var(--string-color);">"5c4a7103-d35f-4136-98be-6210d57b0ca3"</span><span style="color: white;">,
      "numero_autorizacion_pago":</span> <span style="color: var(--string-color);">"834548"</span><span style="color: white;">,
      "numero_autorizacion_paquete":</span> <span style="color: var(--string-color);">"724172"</span><span style="color: white;">,
      "telefono": {
        "tipo":</span> <span style="color: var(--string-color);">"celular"</span><span style="color: white;">,
        "numero":</span> <span style="color: var(--string-color);">"5555688722"</span><span style="color: white;">,
        "codigo_area":</span> <span style="color: var(--string-color);">"55"</span><span style="color: white;">,
        "codigo_pais":</span> <span style="color: var(--string-color);">"+52"</span>
      <span style="color: white;">},
      "creacion":</span> <span style="color: var(--string-color);">"2025-03-25T16:20:57-05:00"</span><span style="color: white;">,
      "actualizacion":</span> <span style="color: var(--string-color);">"2025-03-25T16:20:58-05:00"</span>
    <span style="color: white;">}
  },
  "http_code":</span> <span style="color: var(--number-color);">200</span><span style="color: white;">,
  "datetime":</span> <span style="color: var(--string-color);">"2025-03-25T16:20:58-05:00"</span><span style="color: white;">,
  "timestamp":</span> <span style="color: var(--number-color);">1711402258</span>
<span style="color: white;">}</span></code></pre>
            </div>

            <div id="recargas-tiempo">
              <h3>Recargas de Tiempo Aire</h3>
              <p>
                Las recargas de tiempo aire permiten a los usuarios agregar
                saldo a su línea Telcel para utilizarlo libremente.
              </p>

              <div class="endpoint">
                <span class="method method-post">POST</span>
                <span>/v2/recarga</span>
              </div>

              <h4>Request:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "monto":</span> <span style="color: var(--number-color);">750</span><span style="color: white;">,
  "telefono": {
    "tipo":</span> <span style="color: var(--string-color);">"celular"</span><span style="color: white;">,
    "codigo_pais":</span> <span style="color: var(--string-color);">"+52"</span><span style="color: white;">,
    "codigo_area":</span> <span style="color: var(--string-color);">"55"</span><span style="color: white;">,
    "numero":</span> <span style="color: var(--string-color);">"5555688722"</span>
  <span style="color: white;">},
  "metodo_pago":</span> <span style="color: var(--string-color);">"tarjeta"</span><span style="color: white;">,
  "metodo_pago_token":</span> <span style="color: var(--string-color);">"5c4a7103-d35f-4136-98be-6210d57b0ca3"</span><span style="color: white;">,
  "tipo":</span> <span style="color: var(--string-color);">"tiempo-aire"</span><span style="color: white;">,
  "id_externo":</span> <span style="color: var(--string-color);">"98310938"</span>
<span style="color: white;">}</span></code></pre>

              <h4>Response:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "status":</span> <span style="color: var(--string-color);">"success"</span><span style="color: white;">,
  "data": {
    "recarga": {
      "id":</span> <span style="color: var(--string-color);">"c10148c1-6072-45b5-bb0c-a924e7b990b6"</span><span style="color: white;">,
      "monto":</span> <span style="color: var(--number-color);">750.00</span><span style="color: white;">,
      "tipo":</span> <span style="color: var(--string-color);">"tiempo-aire"</span><span style="color: white;">,
      "estado":</span> <span style="color: var(--string-color);">"aprobada"</span><span style="color: white;">,
      "metodo_pago":</span> <span style="color: var(--string-color);">"tarjeta"</span><span style="color: white;">,
      "metodo_pago_token":</span> <span style="color: var(--string-color);">"5c4a7103-d35f-4136-98be-6210d57b0ca3"</span><span style="color: white;">,
      "numero_autorizacion_pago":</span> <span style="color: var(--string-color);">"834548"</span><span style="color: white;">,
      "numero_autorizacion_paquete":</span> <span style="color: var(--string-color);">"724172"</span><span style="color: white;">,
      "telefono": {
        "tipo":</span> <span style="color: var(--string-color);">"celular"</span><span style="color: white;">,
        "numero":</span> <span style="color: var(--string-color);">"5555688722"</span><span style="color: white;">,
        "codigo_area":</span> <span style="color: var(--string-color);">"55"</span><span style="color: white;">,
        "codigo_pais":</span> <span style="color: var(--string-color);">"+52"</span>
      <span style="color: white;">},
      "creacion":</span> <span style="color: var(--string-color);">"2025-03-25T16:25:57-05:00"</span><span style="color: white;">,
      "actualizacion":</span> <span style="color: var(--string-color);">"2025-03-25T16:25:58-05:00"</span>
    <span style="color: white;">}
  },
  "http_code":</span> <span style="color: var(--number-color);">200</span><span style="color: white;">,
  "datetime":</span> <span style="color: var(--string-color);">"2025-03-25T16:25:58-05:00"</span><span style="color: white;">,
  "timestamp":</span> <span style="color: var(--number-color);">1711402558</span>
<span style="color: white;">}</span></code></pre>
            </div>
          </section>

<div>
  <h3 id="ejemplos-integracion">Ejemplos de Integración</h3>
              <p>
                A continuación se presentan ejemplos de integración con la API
                de T1pagos en diferentes lenguajes de programación.
              </p>

              <div class="tab-container">
                <div class="tab-buttons">
                  <button
                    style="font-size: medium"
                    class="tab-button active"
                    onclick="openTab(event, 'java')"
                  >
                    Java
                  </button>
                  <button
                    style="font-size: medium"
                    class="tab-button"
                    onclick="openTab(event, 'go')"
                  >
                    Go
                  </button>
                  <button
                    style="font-size: medium"
                    class="tab-button"
                    onclick="openTab(event, 'python')"
                  >
                    Python
                  </button>
                </div>

                <div class="tab-content">
                  <div id="java" class="tab-panel active">
                    <h4>Ejemplo de integración con Java</h4>
                    <p>
                      Este ejemplo muestra cómo realizar un cargo a tarjeta
                      utilizando Java y la biblioteca OkHttp:
                    </p>
                    <pre
                      class="language-java"
                    ><code>import com.google.gson.Gson;
import com.google.gson.JsonObject;
import okhttp3.*;
import java.io.IOException;

public class T1PagosExample {
    private static final String API_URL = "https://api.sandbox.t1pagos.com/v2";
    private static final String API_KEY = "tu_api_key_aqui";
    
    public static void main(String[] args) {
        try {
            // 1. Tokenizar tarjeta
            String cardToken = tokenizeCard(
                "NOMBRE DEL TITULAR",
                "4242424242424242",
                "03",
                "27",
                "123"
            );
            
            // 2. Crear cargo con el token
            createCharge(cardToken, "10", "Cargo de prueba", "5834125431628311477");
            
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
    
    private static String tokenizeCard(String name, String cardNumber, String expiryMonth, 
                                      String expiryYear, String cvv) throws IOException {
        OkHttpClient client = new OkHttpClient();
        
        // Crear objeto JSON para la solicitud
        JsonObject cardData = new JsonObject();
        cardData.addProperty("nombre", name);
        cardData.addProperty("pan", cardNumber);
        cardData.addProperty("expiracion_mes", expiryMonth);
        cardData.addProperty("expiracion_anio", expiryYear);
        cardData.addProperty("cvv2", cvv);
        cardData.addProperty("default", true);
        
        // Configurar la solicitud
        RequestBody body = RequestBody.create(
            MediaType.parse("application/json"), new Gson().toJson(cardData));
            
        Request request = new Request.Builder()
            .url(API_URL + "/tarjeta")
            .addHeader("X-API-Key", API_KEY)
            .post(body)
            .build();
            
        // Ejecutar la solicitud
        try (Response response = client.newCall(request).execute()) {
            if (!response.isSuccessful()) {
                throw new IOException("Error inesperado: " + response.code());
            }
            
            // Procesar la respuesta
            String responseBody = response.body().string();
            JsonObject jsonResponse = new Gson().fromJson(responseBody, JsonObject.class);
            
            // Extraer el token de la tarjeta
            return jsonResponse.getAsJsonObject("data")
                              .getAsJsonObject("tarjeta")
                              .get("token").getAsString();
        }
    }
    
    private static void createCharge(String cardToken, String amount, String description, 
                                    String deviceFingerprint) throws IOException {
        OkHttpClient client = new OkHttpClient();
        
        // Crear objeto JSON para la solicitud
        JsonObject chargeData = new JsonObject();
        chargeData.addProperty("monto", amount);
        chargeData.addProperty("descripcion", description);
        chargeData.addProperty("metodo_pago", "tarjeta");
        
        // Añadir información del pedido
        JsonObject orderInfo = new JsonObject();
        orderInfo.addProperty("device_fingerprint", deviceFingerprint);
        chargeData.add("pedido", orderInfo);
        
        // Añadir información de la tarjeta
        JsonObject cardInfo = new JsonObject();
        cardInfo.addProperty("token", cardToken);
        chargeData.add("tarjeta", cardInfo);
        
        // Configurar la solicitud
        RequestBody body = RequestBody.create(
            MediaType.parse("application/json"), new Gson().toJson(chargeData));
            
        Request request = new Request.Builder()
            .url(API_URL + "/cargo")
            .addHeader("X-API-Key", API_KEY)
            .post(body)
            .build();
            
        // Ejecutar la solicitud
        try (Response response = client.newCall(request).execute()) {
            String responseBody = response.body().string();
            System.out.println("Respuesta del cargo: " + responseBody);
            
            // Procesar la respuesta según tus necesidades
            JsonObject jsonResponse = new Gson().fromJson(responseBody, JsonObject.class);
            String status = jsonResponse.get("status").getAsString();
            
            if ("success".equals(status)) {
                JsonObject chargeInfo = jsonResponse.getAsJsonObject("data")
                                                   .getAsJsonObject("cargo");
                String chargeStatus = chargeInfo.get("estatus").getAsString();
                
                if ("completada".equals(chargeStatus)) {
                    System.out.println("¡Cargo completado con éxito!");
                } else {
                    System.out.println("El cargo fue procesado pero no completado: " + 
                                      chargeInfo.get("descripcion").getAsString());
                }
            } else {
                System.out.println("Error al procesar el cargo: " + 
                                  jsonResponse.getAsJsonObject("error").get("message").getAsString());
            }
        }
    }
}</code></pre>
                  </div>

                  <div id="go" class="tab-panel">
                    <h4>Ejemplo de integración con Go</h4>
                    <p>
                      Este ejemplo muestra cómo realizar un cargo a tarjeta
                      utilizando Go:
                    </p>
                    <pre class="language-go"><code>package main

import (
	"bytes"
	"encoding/json"
	"fmt"
	"io/ioutil"
	"net/http"
)

const (
	apiURL = "https://api.sandbox.t1pagos.com/v2"
	apiKey = "tu_api_key_aqui"
)

// Estructuras para la tokenización de tarjeta
type CardTokenRequest struct {
	Nombre        string `json:"nombre"`
	Pan           string `json:"pan"`
	ExpiracionMes string `json:"expiracion_mes"`
	ExpiracionAnio string `json:"expiracion_anio"`
	Cvv2          string `json:"cvv2"`
	Default       bool   `json:"default"`
}

type CardTokenResponse struct {
	Status    string `json:"status"`
	Data      struct {
		Tarjeta struct {
			Token string `json:"token"`
		} `json:"tarjeta"`
	} `json:"data"`
}

// Estructuras para la creación de cargo
type ChargeRequest struct {
	Monto       string `json:"monto"`
	Descripcion string `json:"descripcion"`
	Pedido      struct {
		DeviceFingerprint string `json:"device_fingerprint"`
	} `json:"pedido"`
	MetodoPago string `json:"metodo_pago"`
	Tarjeta    struct {
		Token string `json:"token"`
	} `json:"tarjeta"`
}

type ChargeResponse struct {
	Status string `json:"status"`
	Data   struct {
		Cargo struct {
			ID         string `json:"id"`
			Estatus    string `json:"estatus"`
			Codigo     string `json:"codigo"`
			Descripcion string `json:"descripcion"`
		} `json:"cargo"`
	} `json:"data"`
}

func main() {
	// 1. Tokenizar tarjeta
	cardToken, err := tokenizeCard("NOMBRE DEL TITULAR", "4242424242424242", "03", "27", "123")
	if err != nil {
		fmt.Printf("Error al tokenizar tarjeta: %v\n", err)
		return
	}
	
	fmt.Printf("Tarjeta tokenizada con éxito. Token: %s\n", cardToken)
	
	// 2. Crear cargo con el token
	err = createCharge(cardToken, "10", "Cargo de prueba", "5834125431628311477")
	if err != nil {
		fmt.Printf("Error al crear cargo: %v\n", err)
		return
	}
}

func tokenizeCard(name, cardNumber, expiryMonth, expiryYear, cvv string) (string, error) {
	// Preparar datos de la solicitud
	cardData := CardTokenRequest{
		Nombre:        name,
		Pan:           cardNumber,
		ExpiracionMes: expiryMonth,
		ExpiracionAnio: expiryYear,
		Cvv2:          cvv,
		Default:       true,
	}
	
	// Convertir a JSON
	jsonData, err := json.Marshal(cardData)
	if err != nil {
		return "", err
	}
	
	// Crear solicitud HTTP
	req, err := http.NewRequest("POST", apiURL+"/tarjeta", bytes.NewBuffer(jsonData))
	if err != nil {
		return "", err
	}
	
	// Añadir encabezados
	req.Header.Set("Content-Type", "application/json")
	req.Header.Set("X-API-Key", apiKey)
	
	// Enviar solicitud
	client := &http.Client{}
	resp, err := client.Do(req)
	if err != nil {
		return "", err
	}
	defer resp.Body.Close()
	
	// Leer respuesta
	body, err := ioutil.ReadAll(resp.Body)
	if err != nil {
		return "", err
	}
	
	// Verificar código de estado
	if resp.StatusCode != http.StatusOK {
		return "", fmt.Errorf("error en la solicitud: %s", body)
	}
	
	// Procesar respuesta
	var tokenResponse CardTokenResponse
	err = json.Unmarshal(body, &tokenResponse)
	if err != nil {
		return "", err
	}
	
	// Verificar estado de la respuesta
	if tokenResponse.Status != "success" {
		return "", fmt.Errorf("error al tokenizar tarjeta: %s", body)
	}
	
	return tokenResponse.Data.Tarjeta.Token, nil
}

func createCharge(cardToken, amount, description, deviceFingerprint string) error {
	// Preparar datos de la solicitud
	chargeData := ChargeRequest{
		Monto:       amount,
		Descripcion: description,
		MetodoPago:  "tarjeta",
	}
	chargeData.Pedido.DeviceFingerprint = deviceFingerprint
	chargeData.Tarjeta.Token = cardToken
	
	// Convertir a JSON
	jsonData, err := json.Marshal(chargeData)
	if err != nil {
		return err
	}
	
	// Crear solicitud HTTP
	req, err := http.NewRequest("POST", apiURL+"/cargo", bytes.NewBuffer(jsonData))
	if err != nil {
		return err
	}
	
	// Añadir encabezados
	req.Header.Set("Content-Type", "application/json")
	req.Header.Set("X-API-Key", apiKey)
	
	// Enviar solicitud
	client := &http.Client{}
	resp, err := client.Do(req)
	if err != nil {
		return err
	}
	defer resp.Body.Close()
	
	// Leer respuesta
	body, err := ioutil.ReadAll(resp.Body)
	if err != nil {
		return err
	}
	
	// Procesar respuesta
	var chargeResponse ChargeResponse
	err = json.Unmarshal(body, &chargeResponse)
	if err != nil {
		return err
	}
	
	// Verificar estado de la respuesta
	if chargeResponse.Status != "success" {
		return fmt.Errorf("error al crear cargo: %s", body)
	}
	
	// Verificar estado del cargo
	fmt.Printf("Cargo procesado. Estado: %s\n", chargeResponse.Data.Cargo.Estatus)
	if chargeResponse.Data.Cargo.Estatus == "completada" {
		fmt.Println("¡Cargo completado con éxito!")
	} else {
		fmt.Printf("El cargo no se completó: %s\n", chargeResponse.Data.Cargo.Descripcion)
	}
	
	return nil
}</code></pre>
                  </div>

                  <div id="python" class="tab-panel">
                    <h4>Ejemplo de integración con Python</h4>
                    <p>
                      Este ejemplo muestra cómo realizar un cargo a tarjeta
                      utilizando Python y la biblioteca requests:
                    </p>
                    <pre class="language-python"><code>import requests
import json

# Configuración
API_URL = "https://api.sandbox.t1pagos.com/v2"
API_KEY = "tu_api_key_aqui"

def tokenize_card(name, card_number, expiry_month, expiry_year, cvv):
    """
    Tokeniza una tarjeta y devuelve el token generado.
    """
    # Preparar datos de la solicitud
    card_data = {
        "nombre": name,
        "pan": card_number,
        "expiracion_mes": expiry_month,
        "expiracion_anio": expiry_year,
        "cvv2": cvv,
        "default": True
    }
    
    # Configurar encabezados
    headers = {
        "Content-Type": "application/json",
        "X-API-Key": API_KEY
    }
    
    # Realizar la solicitud
    response = requests.post(
        f"{API_URL}/tarjeta",
        headers=headers,
        json=card_data
    )
    
    # Verificar respuesta
    if response.status_code != 200:
        raise Exception(f"Error al tokenizar tarjeta: {response.text}")
    
    # Procesar respuesta
    response_data = response.json()
    if response_data["status"] != "success":
        raise Exception(f"Error en la respuesta: {response_data}")
    
    # Extraer token
    return response_data["data"]["tarjeta"]["token"]

def create_charge(card_token, amount, description, device_fingerprint):
    """
    Crea un cargo utilizando un token de tarjeta.
    """
    # Preparar datos de la solicitud
    charge_data = {
        "monto": amount,
        "descripcion": description,
        "pedido": {
            "device_fingerprint": device_fingerprint
        },
        "metodo_pago": "tarjeta",
        "tarjeta": {
            "token": card_token
        }
    }
    
    # Configurar encabezados
    headers = {
        "Content-Type": "application/json",
        "X-API-Key": API_KEY
    }
    
    # Realizar la solicitud
    response = requests.post(
        f"{API_URL}/cargo",
        headers=headers,
        json=charge_data
    )
    
    # Procesar respuesta
    response_data = response.json()
    print(f"Respuesta del cargo: {json.dumps(response_data, indent=2)}")
    
    # Verificar estado de la respuesta
    if response_data["status"] != "success":
        print(f"Error al procesar el cargo: {response_data.get('error', {}).get('message', 'Error desconocido')}")
        return False
    
    # Verificar estado del cargo
    charge_status = response_data["data"]["cargo"]["estatus"]
    if charge_status == "completada":
        print("¡Cargo completado con éxito!")
        return True
    else:
        print(f"El cargo no se completó: {response_data['data']['cargo']['descripcion']}")
        return False

def main():
    try:
        # 1. Tokenizar tarjeta
        print("Tokenizando tarjeta...")
        card_token = tokenize_card(
            "NOMBRE DEL TITULAR",
            "4242424242424242",
            "03",
            "27",
            "123"
        )
        print(f"Tarjeta tokenizada con éxito. Token: {card_token}")
        
        # 2. Crear cargo con el token
        print("Creando cargo...")
        success = create_charge(
            card_token,
            "10",
            "Cargo de prueba",
            "5834125431628311477"
        )
        
        if success:
            print("Proceso de cargo completado correctamente.")
        else:
            print("El proceso de cargo no se completó correctamente.")
            
    except Exception as e:
        print(f"Error durante el proceso: {e}")

if __name__ == "__main__":
    main()</code></pre>
                  </div>
                </div>
              </div>
</div>

          <section id="webhooks">
            <h2>Webhooks</h2>
            <p>
              En el sistema T1pagos algunos procesos son ejecutados de manera
              automática, como es el caso de los cobros de las suscripciones.
              Para poder mantener sincronizados los sistemas, podrá configurarse
              un endpoint para recibir notificaciones de algunos eventos como
              nuevos cargos, renovación de suscripciones y otros.
            </p>
            <p>
              El registro se realiza desde el sistema Admin, podrá incluirse más
              de un endpoint y canalizar las notificaciones a cada nueva ruta.
            </p>

            <div id="webhooks-eventos">
              <h3>Eventos Disponibles</h3>
              <table>
                <tr>
                  <th>Método</th>
                  <th>Tipo de Evento</th>
                  <th>Id</th>
                  <th>Descripción</th>
                </tr>
                <tr>
                  <td>Cargo</td>
                  <td>Exitoso</td>
                  <td>
                    <code
                      style="
                        background-color: var(--success-color);
                        color: white;
                      "
                      >cargo.exitoso</code
                    >
                  </td>
                  <td>Indicará cuando fue realizado un cargo exitoso</td>
                </tr>
                <tr>
                  <td>Cargo</td>
                  <td>Fallido</td>
                  <td>
                    <code
                      style="
                        background-color: var(--danger-color);
                        color: white;
                      "
                      >cargo.fallido</code
                    >
                  </td>
                  <td>
                    Indicará cuando fue realizado un cargo fallido o rechazado
                  </td>
                </tr>
                <tr>
                  <td>Cargo</td>
                  <td>Cancelado</td>
                  <td>
                    <code
                      style="
                        background-color: var(--danger-color);
                        color: white;
                      "
                      >cargo.cancelado</code
                    >
                  </td>
                  <td>Indicará cuando un cargo haya sido cancelado</td>
                </tr>
                <tr>
                  <td>Cargo</td>
                  <td>Reembolsado</td>
                  <td>
                    <code
                      style="
                        background-color: var(--warning-color);
                        color: white;
                      "
                      >cargo.reembolsado</code
                    >
                  </td>
                  <td>Indicará cuando un cargo haya sido reembolsado</td>
                </tr>
                <tr>
                  <td>Suscripción</td>
                  <td>Creada</td>
                  <td>
                    <code
                      style="
                        background-color: var(--success-color);
                        color: white;
                      "
                      >suscripcion.creada</code
                    >
                  </td>
                  <td>
                    Indicará la creación de una nueva suscripción, el evento no
                    notificará el cobro de una suscripción
                  </td>
                </tr>
                <tr>
                  <td>Suscripción</td>
                  <td>Actualizada</td>
                  <td>
                    <code
                      style="
                        background-color: var(--success-color);
                        color: white;
                      "
                      >suscripcion.actualizada</code
                    >
                  </td>
                  <td>
                    Se ejecuta cuando se realiza una actualización a una
                    suscripción.
                  </td>
                </tr>
                <tr>
                  <td>Suscripción</td>
                  <td>Cancelada</td>
                  <td><code
                    style="
                      background-color: var(--warning-color);
                      color: white;
                    "
                    >suscripcion.cancelada</td>
                  <td>
                    Se ejecuta cuando se ejecuta el comando "cancelar" de una
                    suscripción.
                  </td>
                </tr>
                <tr>
                  <td>Suscripción</td>
                  <td>Pago.exitoso</td>
                  <td><code
                    style="
                      background-color: var(--success-color);
                      color: white;
                    "
                    >suscripcion.pago.exitoso</code></td>
                  <td>
                    Se ejecuta cuando se realiza el cobro de una suscripción de
                    manera exitosa
                  </td>
                </tr>
                <tr>
                  <td>Suscripción</td>
                  <td>Pago.fallido</td>
                  <td><code
                    style="
                      background-color: var(--danger-color);
                      color: white;
                    "
                    >suscripcion.pago.fallido</code></td>
                  <td>
                    Se ejecuta cuando se realiza el cobro de una suscripción de
                    manera fallida
                  </td>
                </tr>
              </table>
            </div>

            <div id="webhooks-seguridad">
              <h3>Seguridad en Recepción de Eventos</h3>
              <p>
                En la configuración de recepción de eventos podrá habilitarse un
                usuario y contraseña que deberá de validar el sistema al recibir
                cada evento. El esquema, conocido como autenticación básica,
                permite añadir una capa de seguridad adicional.
              </p>

              <h4>Consulta de Eventos</h4>
              <p>
                Si el sistema que recibe las notificaciones presenta algún
                contratiempo, o se busca confirmar las operaciones realizadas,
                podrá hacerse uso del método <code>GET /notificacion</code> para
                consultar un listado de eventos que han sido creados y enviados.
              </p>

              <div class="endpoint">
                <span class="method method-get">GET</span>
                <span>/v2/notificacion</span>
              </div>

              <h4>Response:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "status":</span> <span style="color: var(--string-color);">"success"</span><span style="color: white;">,
  "http_code":</span> <span style="color: var(--number-color);">200</span><span style="color: white;">,
  "datetime":</span> <span style="color: var(--string-color);">"2025-03-25T16:30:35-05:00"</span><span style="color: white;">,
  "timestamp":</span> <span style="color: var(--number-color);">1711402835</span><span style="color: white;">,
  "data": {
    "eventos": {
      "data": [
        {
          "id":</span> <span style="color: var(--string-color);">"string"</span><span style="color: white;">,
          "creacion":</span> <span style="color: var(--string-color);">"2025-03-25T16:30:35-05:00"</span><span style="color: white;">,
          "tipo":</span> <span style="color: var(--string-color);">"evento"</span><span style="color: white;">,
          "tipo_evento":</span> <span style="color: var(--string-color);">"cargo.exitoso"</span><span style="color: white;">,
          "prueba":</span> <span style="color: var(--boolean-color);">true</span><span style="color: white;">,
          "estatus":</span> <span style="color: var(--string-color);">"entregado"</span><span style="color: white;">,
          "fecha_entrega":</span> <span style="color: var(--string-color);">"2025-03-25T16:30:35-05:00"</span><span style="color: white;">,
          "codigo_http":</span> <span style="color: var(--number-color);">200</span><span style="color: white;">,
          "mensaje_http":</span> <span style="color: var(--string-color);">"OK"</span><span style="color: white;">,
          "total_intentos":</span> <span style="color: var(--number-color);">1</span><span style="color: white;">,
          "data": {
            "cargo": {
              "id":</span> <span style="color: var(--string-color);">"string"</span><span style="color: white;">,
              "monto":</span> <span style="color: var(--number-color);">100</span><span style="color: white;">,
              "autorizacion_id":</span> <span style="color: var(--string-color);">"string"</span><span style="color: white;">,
              "tipo":</span> <span style="color: var(--string-color);">"cargo"</span><span style="color: white;">,
              "fecha":</span> <span style="color: var(--string-color);">"2025-03-25T16:30:35-05:00"</span><span style="color: white;">,
              "orden_id":</span> <span style="color: var(--string-color);">"string"</span><span style="color: white;">,
              "cliente_id":</span> <span style="color: var(--string-color);">"string"</span><span style="color: white;">,
              "estatus":</span> <span style="color: var(--string-color);">"completada"</span><span style="color: white;">,
              "codigo":</span> <span style="color: var(--string-color);">"string"</span><span style="color: white;">,
              "descripcion":</span> <span style="color: var(--string-color);">"string"</span><span style="color: white;">,
              "tarjeta": {
                "token":</span> <span style="color: var(--string-color);">"string"</span><span style="color: white;">,
                "pan":</span> <span style="color: var(--string-color);">"string"</span><span style="color: white;">,
                "terminacion":</span> <span style="color: var(--number-color);">0</span><span style="color: white;">,
                "nombre":</span> <span style="color: var(--string-color);">"string"</span><span style="color: white;">,
                "expiracion_mes":</span> <span style="color: var(--number-color);">0</span><span style="color: white;">,
                "expiracion_anio":</span> <span style="color: var(--number-color);">0</span><span style="color: white;">,
                "iin":</span> <span style="color: var(--number-color);">0</span><span style="color: white;">,
                "marca":</span> <span style="color: var(--string-color);">"visa"</span><span style="color: white;">,
                "cliente_id":</span> <span style="color: var(--string-color);">"string"</span><span style="color: white;">,
                "default":</span> <span style="color: var(--boolean-color);">true</span>
              <span style="color: white;">}
            }
          }
        }
      ],
      "registros_por_pagina":</span> <span style="color: var(--number-color);">5</span><span style="color: white;">,
      "pagina_actual":</span> <span style="color: var(--number-color);">1</span><span style="color: white;">,
      "desde":</span> <span style="color: var(--number-color);">1</span><span style="color: white;">,
      "hasta":</span> <span style="color: var(--number-color);">1</span><span style="color: white;">,
      "total":</span> <span style="color: var(--number-color);">1</span><span style="color: white;">,
      "total_pagina":</span> <span style="color: var(--number-color);">1</span><span style="color: white;">,
      "ultima_pagina":</span> <span style="color: var(--number-color);">1</span>
    <span style="color: white;">}
  }
}</span></code></pre>
            </div>
          </section>

          <section id="errores">
            <h2>Respuestas y Errores</h2>
            <p>
              El modelo de respuesta del API agrupa los errores en categorías,
              adoptando el modelo de respuestas HTTP como códigos de cada grupo.
              Se adoptan sólo una serie de códigos HTTP para reflejar el
              resultado de la operación, además, las respuestas incluyen
              descripción de los errores y en algunos casos el detalle del
              origen del error en el campo <code>data</code>.
            </p>
            <p>
              Las respuestas que sean ejecutadas de manera correcta, regresarán
              un código <code>HTTP 200</code>.
            </p>

            <div id="errores-http">
              <h3>Códigos de Error HTTP</h3>
              <table>
                <tr>
                  <th>Código</th>
                  <th>Tipo</th>
                  <th>Campo Data</th>
                  <th>Descripción</th>
                </tr>
                <tr>
                  <td><code
                    style="
                      background-color: var(--danger-color);
                      color: white;
                    "
                    >400</code></td>
                  <td>Parámetros</td>
                  <td>Presente</td>
                  <td>
                    La solicitud contiene sintaxis errónea o un parámetro
                    incorrecto, deberá corregirse antes de realizar una nueva
                    petición
                  </td>
                </tr>
                <tr>
                  <td><code
                    style="
                      background-color: var(--danger-color);
                      color: white;
                    "
                    >401</code></td>
                  <td>Autenticación</td>
                  <td>N/A</td>
                  <td>El método de autenticación proporcionado no es válido</td>
                </tr>
                <tr>
                  <td><code
                    style="
                      background-color: var(--danger-color);
                      color: white;
                    "
                    >403</code></td>
                  <td>Autenticación</td>
                  <td>N/A</td>
                  <td>
                    El método de autenticación no cuenta con permisos
                    suficientes
                  </td>
                </tr>
                <tr>
                  <td><code
                    style="
                      background-color: var(--danger-color);
                      color: white;
                    "
                    >404</code></td>
                  <td>General</td>
                  <td>N/A</td>
                  <td>No se ha encontrado el recurso solicitado</td>
                </tr>
                <tr>
                  <td><code
                    style="
                      background-color: var(--danger-color);
                      color: white;
                    "
                    >405</code></td>
                  <td>Sistema</td>
                  <td>N/A</td>
                  <td>Se ha hecho una solicitud a un método no soportado</td>
                </tr>
                <tr>
                  <td><code
                    style="
                      background-color: var(--danger-color);
                      color: white;
                    "
                    >409</code></td>
                  <td>Parámetros</td>
                  <td>N/A</td>
                  <td>
                    Se ha realizado una solicitud que entra en conflicto con un
                    recurso existente
                  </td>
                </tr>
                <tr>
                  <td><code
                    style="
                      background-color: var(--danger-color);
                      color: white;
                    "
                    >412</code></td>
                  <td>Precondición</td>
                  <td>N/A</td>
                  <td>
                    Una o más condiciones no se han cumplido por lo que no se
                    puede procesar la petición
                  </td>
                </tr>
                <tr>
                  <td><code
                    style="
                      background-color: var(--danger-color);
                      color: white;
                    "
                    >429</code></td>
                  <td>Sistema</td>
                  <td>N/A</td>
                  <td>Se han realizado demasiadas peticiones</td>
                </tr>
                <tr>
                  <td><code
                    style="
                      background-color: var(--danger-color);
                      color: white;
                    "
                    >500</code></td>
                  <td>Sistema</td>
                  <td>N/A</td>
                  <td>Ha ocurrido un error en el servidor</td>
                </tr>
              </table>
            </div>

            <div id="errores-formato">
              <h3>Formato de Respuestas</h3>
              <p>
                En general, todas las respuestas del API incluyen un wrapper en
                las respuestas, el concepto detrás del wrapper es permitir una
                rápida interpretación de la ejecución de la petición realizada,
                más no del resultado, el resultado estará contenido en el campo
                <code>data</code>, algunas peticiones también podrán incluir un
                objeto <code>error</code> en el cuerpo del mensaje.
              </p>

              <h4>Ejemplo de Respuesta Exitosa:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "status":</span> <span style="color: var(--string-color);">"success"</span><span style="color: white;">,
  "data": {},
  "http_code":</span> <span style="color: var(--number-color);">200</span><span style="color: white;">,
  "datetime":</span> <span style="color: var(--string-color);">"2025-03-25T16:35:21-05:00"</span><span style="color: white;">,
  "timestamp":</span> <span style="color: var(--number-color);">1711403121</span>
<span style="color: white;">}</span></code></pre>

              <h4>Ejemplo de Error:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "status":</span> <span style="color: var(--string-color);">"error"</span><span style="color: white;">,
  "error": {
    "code":</span> <span style="color: var(--number-color);">429</span><span style="color: white;">,
    "type":</span> <span style="color: var(--string-color);">"Sistema"</span><span style="color: white;">,
    "message":</span> <span style="color: var(--string-color);">"Ha excedido la tasa máxima de peticiones"</span>
  <span style="color: white;">},
  "http_code":</span> <span style="color: var(--number-color);">429</span><span style="color: white;">,
  "datetime":</span> <span style="color: var(--string-color);">"2025-03-25T16:36:49-05:00"</span><span style="color: white;">,
  "timestamp":</span> <span style="color: var(--number-color);">1711403209</span>
<span style="color: white;">}</span></code></pre>

              <h4>Ejemplo de Error con Detalle:</h4>
              <pre class="true-code"><code><span style="color: white;">{
  "status":</span> <span style="color: var(--string-color);">"fail"</span><span style="color: white;">,
  "error": {
    "code":</span> <span style="color: var(--number-color);">400</span><span style="color: white;">,
    "type":</span> <span style="color: var(--string-color);">"Parámetros"</span><span style="color: white;">,
    "message":</span> <span style="color: var(--string-color);">"Error en parámetros de entrada."</span>
  <span style="color: white;">},
  "http_code":</span> <span style="color: var(--number-color);">400</span><span style="color: white;">,
  "datetime":</span> <span style="color: var(--string-color);">"2025-03-25T16:38:33-05:00"</span><span style="color: white;">,
  "timestamp":</span> <span style="color: var(--number-color);">1711403313</span><span style="color: white;">,
  "data": {
    "errors": {
      "email": [
        </span><span style="color: var(--string-color);">"El campo email no corresponde con una dirección de e-mail válida."</span><span style="color: white;">
      ]
    }
  }
}</span></code></pre>

              <h4>Valores de Status</h4>
              <ul>
                <li>
                  <code
                    style="background-color: var(--success-color); color: white"
                    >success</code
                  >
                  - Indicará que la petición fue al API fue procesada
                  correctamente. El detalle de la operación solicitada se
                  encontrará en el campo <code>data</code>.
                </li>
                <li>
                  <code
                    style="background-color: var(--warning-color); color: white"
                    >fail</code
                  >
                  - Indicará que hubo un error con los valores enviados en la
                  petición o no se cumplió con una precondición, por ejemplo no
                  se incluyó un campo obligatorio.
                </li>
                <li>
                  <code
                    style="background-color: var(--danger-color); color: white"
                    >error</code
                  >
                  - Indicará que ha ocurrido un error al procesar la petición,
                  por ejemplo, que ha sucedido una excepción al procesar la
                  operación.
                </li>
              </ul>
            </div>
          </section>
        </main>
      </div>
    </div>

    <footer>
      <div class="container">
        <p>Copyright © 2025 T1pagos</p>
      </div>
    </footer>

    <!-- Prism.js for syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <!-- Language components for Java, Go, and Python -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-go.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>

    <script>
      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();

          document.querySelector(this.getAttribute("href")).scrollIntoView({
            behavior: "smooth",
          });
        });
      });

      // Highlight active section in sidebar
      window.addEventListener("scroll", function () {
        const sections = document.querySelectorAll("section[id]");
        let currentSection = "";

        sections.forEach((section) => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.clientHeight;
          if (pageYOffset >= sectionTop - 100) {
            currentSection = section.getAttribute("id");
          }
        });

        document.querySelectorAll(".section-nav a").forEach((link) => {
          link.classList.remove("active");
          if (link.getAttribute("href") === "#" + currentSection) {
            link.classList.add("active");
          }
        });
      });

      // Function to handle tab switching
      function openTab(evt, tabName) {
        // Hide all tab panels
        const tabPanels = document.getElementsByClassName("tab-panel");
        for (let i = 0; i < tabPanels.length; i++) {
          tabPanels[i].classList.remove("active");
        }

        // Remove active class from all tab buttons
        const tabButtons = document.getElementsByClassName("tab-button");
        for (let i = 0; i < tabButtons.length; i++) {
          tabButtons[i].classList.remove("active");
        }

        // Show the selected tab panel and mark the button as active
        document.getElementById(tabName).classList.add("active");
        evt.currentTarget.classList.add("active");
      }
    </script>
  </body>
</html>
